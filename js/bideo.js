!function(e){e.Bideo=function(){this.opt=null,this.videoEl=null,this.approxLoadingRate=null,this._resize=null,this._progress=null,this.startTime=null,this.init=function(t){this.opt=t=t||{};var i=this;i._resize=i.resize.bind(this),i.videoEl=t.videoEl,i.videoEl.addEventListener("loadedmetadata",i._resize,!1),i.videoEl.addEventListener("canplay",function(){i.opt.onLoad&&i.opt.onLoad(),i.videoEl.play()}),i.opt.resize&&e.addEventListener("resize",i._resize,!1),this.startTime=(new Date).getTime(),this.opt.src.forEach(function(e,t,o){var r,n,d=document.createElement("source");for(r in e)e.hasOwnProperty(r)&&(n=e[r],d.setAttribute(r,n));i.videoEl.appendChild(d)})},this.resize=function(){var t=this.videoEl.videoWidth,i=this.videoEl.videoHeight,o=(t/i).toFixed(2),r=this.opt.container,n=e.getComputedStyle(r),d=parseInt(n.getPropertyValue("width")),a=parseInt(n.getPropertyValue("height"));if("border-box"!==n.getPropertyValue("box-sizing")){var s=n.getPropertyValue("padding-top"),l=n.getPropertyValue("padding-bottom"),p=n.getPropertyValue("padding-left"),u=n.getPropertyValue("padding-right");s=parseInt(s),l=parseInt(l),p=parseInt(p),u=parseInt(u),d+=p+u,a+=s+l}var h=d/t,v=a/i;if(h>v)var c=d,g=Math.ceil(c/o);else var g=a,c=Math.ceil(g*o);this.videoEl.style.width=c+"px",this.videoEl.style.height=g+"px"}}}(window),function(){var e=new Bideo;e.init({videoEl:document.querySelector("#background_video"),container:document.querySelector("body"),resize:!0,src:[{src:"multimedia/film.mp4",type:"video/mp4"}],onLoad:function(){document.querySelector("#video_cover").style.display="none"}})}();
